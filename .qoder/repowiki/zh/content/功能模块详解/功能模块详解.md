# 功能模块详解

<cite>
**本文档引用文件**   
- [README.md](file://README.md)
- [pdfMerger.tsx](file://src/pages/pdfMerger.tsx)
- [videoToGif.tsx](file://src/pages/videoToGif.tsx)
- [websocketClient.tsx](file://src/pages/websocketClient.tsx)
- [colorConverter.tsx](file://src/pages/colorConverter.tsx)
- [jsonFormatter.tsx](file://src/pages/jsonFormatter.tsx)
- [qrGenerator.tsx](file://src/pages/qrGenerator.tsx)
- [calculateDistance.lazy.tsx](file://src/pages/calculateDistance.lazy.tsx)
- [imageCompressor.tsx](file://src/pages/imageCompressor.tsx)
- [base64Converter.tsx](file://src/pages/base64Converter.tsx)
- [jsonToTs.lazy.tsx](file://src/pages/jsonToTs.lazy.tsx)
- [cssFormatter.tsx](file://src/pages/cssFormatter.tsx)
- [scssConverter.tsx](file://src/pages/scssConverter.tsx)
- [httpStatus.tsx](file://src/pages/httpStatus.tsx)
- [httpHeaders.tsx](file://src/pages/httpHeaders.tsx)
- [coordinate.lazy.tsx](file://src/pages/coordinate.lazy.tsx)
- [textDiff.tsx](file://src/pages/textDiff.tsx)
</cite>

## 目录
1. [文件处理工具](#文件处理工具)
2. [编码转换工具](#编码转换工具)
3. [网络工具](#网络工具)
4. [地理坐标工具](#地理坐标工具)
5. [开发辅助工具](#开发辅助工具)

## 文件处理工具

本项目提供了一系列强大的文件处理工具，涵盖PDF、视频、图片等多种文件格式的转换与处理功能。这些工具均在浏览器端实现，无需服务器支持，确保用户数据的安全与隐私。

### PDF合并工具
该工具允许用户将多个PDF文件合并为一个单一的PDF文档。核心实现依赖于`pdf-lib`库，通过其`PDFDocument`类加载每个PDF文件，并将页面逐页复制到新的合并文档中。特别地，代码中设置了`ignoreEncryption: true`选项，以兼容加密的PDF文件。用户可通过拖拽或点击选择文件，支持文件排序与移除操作，最终生成的合并文件可直接下载。

**Section sources**
- [pdfMerger.tsx](file://src/pages/pdfMerger.tsx#L1-L183)

### 视频转GIF工具
此工具利用`@ffmpeg/ffmpeg`库在浏览器中直接处理视频文件，将其转换为GIF动画。技术实现上，通过Web Worker加载FFmpeg核心，使用`fetchFile`将上传的视频文件读入FFmpeg的文件系统。转换命令通过`ffmpeg.exec()`执行，支持自定义截取时长、帧率（FPS）和输出尺寸。进度条通过监听`progress`事件实时更新，为用户提供良好的操作反馈。

**Section sources**
- [videoToGif.tsx](file://src/pages/videoToGif.tsx#L1-L375)

### 图片压缩工具
图片压缩工具旨在减小图片文件的大小，便于网络传输。其原理是利用HTML5的Canvas API，将上传的图片绘制到Canvas上，然后通过`canvas.toDataURL()`方法以指定的格式（JPEG、PNG、WebP）和质量（0-1）重新编码图片。用户可以设置最大宽度以进行尺寸缩放，并选择是否保持原始宽高比。压缩后的图片会显示预览，并提供压缩比例和节省空间的统计信息。

**Section sources**
- [imageCompressor.tsx](file://src/pages/imageCompressor.tsx#L1-L335)

### 图片转Base64工具
该工具实现了图片与Base64字符串之间的双向转换。当用户上传图片时，使用`FileReader`的`readAsDataURL()`方法将其转换为包含MIME类型的Base64数据URL。反之，当用户输入有效的图片Base64字符串时，可直接在页面上预览对应的图片，并支持下载为文件。此功能常用于前端开发中将小图片内联到CSS或HTML中。

**Section sources**
- [base64Converter.tsx](file://src/pages/base64Converter.tsx#L1-L164)

## 编码转换工具

编码转换工具集成了多种数据格式的转换功能，帮助开发者快速处理常见的编码问题。

### JSON转TypeScript工具
此工具能将JSON对象自动转换为TypeScript接口定义。其实现逻辑是递归遍历JSON对象的每个属性，根据属性值的类型（字符串、数字、布尔值、数组、对象）生成相应的TypeScript类型。对于嵌套对象，会生成独立的接口并引用。例如，一个包含`user`对象的JSON会被转换为`RootObject`和`IUser`两个接口。转换结果支持复制到剪贴板，极大提升了开发效率。

**Section sources**
- [jsonToTs.lazy.tsx](file://src/pages/jsonToTs.lazy.tsx#L1-L167)

### 颜色转换器
颜色转换器支持十六进制颜色码与RGB颜色值之间的相互转换。用户可以通过输入框手动输入，或使用颜色选择器直观地选取颜色。转换逻辑基于简单的数学计算：将十六进制的每两个字符分别转换为十进制数，即得到RGB的三个分量；反之，将RGB的每个分量转换为两位十六进制数并拼接。此外，工具还根据颜色的亮度自动判断并设置预览区域的文本颜色（黑或白），以保证可读性。

**Section sources**
- [colorConverter.tsx](file://src/pages/colorConverter.tsx#L1-L251)

### YAML/JSON转换工具
虽然代码未直接提供，但根据README描述，此工具应能实现YAML和JSON格式之间的相互转换。通常这类工具会使用`js-yaml`库来解析YAML字符串为JavaScript对象，再用`JSON.stringify()`格式化为JSON；反之，将JSON字符串`JSON.parse()`后，用`yaml.dump()`转换为YAML。此类工具对于配置文件的编辑和API调试非常有用。

## 网络工具

网络工具为开发者提供了调试和理解网络协议的便利手段。

### WebSocket客户端
WebSocket客户端工具允许用户建立与指定WebSocket服务器的连接，进行双向通信测试。用户输入服务器地址（如`ws://127.0.0.1:18080`）后，点击“建立连接”按钮创建`WebSocket`实例。工具支持发送自定义消息，并实时显示发送和接收的消息记录。一个特色功能是心跳机制，用户可设置心跳间隔和消息内容，客户端会自动定时发送心跳包，以维持长连接。

**Section sources**
- [websocketClient.tsx](file://src/pages/websocketClient.tsx#L1-L268)

### HTTP状态码查询
HTTP状态码工具是一个全面的状态码参考手册。它将1xx到5xx的状态码按类别（信息响应、成功响应、重定向、客户端错误、服务器错误）组织，并提供搜索和筛选功能。每个状态码卡片都包含状态码、消息、描述和所属类别。用户可以通过标签页快速查看“常用状态码”列表，如200、404、500等，是开发和运维人员的必备工具。

**Section sources**
- [httpStatus.tsx](file://src/pages/httpStatus.tsx#L1-L444)

### HTTP请求头查询
与HTTP状态码工具类似，HTTP请求头工具提供了对各类HTTP头（通用头、请求头、响应头、实体头）的详细说明。每个头信息都包含名称、描述和使用示例。用户可以通过搜索或类别筛选快速定位特定的请求头。例如，`Authorization`头用于身份验证，`Content-Type`头用于指定资源的MIME类型。该工具对于理解API文档和调试网络请求非常有帮助。

**Section sources**
- [httpHeaders.tsx](file://src/pages/httpHeaders.tsx#L1-L607)

## 地理坐标工具

地理坐标工具专注于处理中国特有的坐标系转换问题。

### 经纬度距离计算
此工具使用Haversine公式计算地球上两点之间的大圆距离。用户可以分别输入两个点的经度和纬度，或以“经度,纬度”的格式合并输入。计算结果可选择以米（m）、千米（km）或英里（mi）为单位显示。该公式考虑了地球的球形，计算结果比简单的平面距离更精确，适用于大多数地理应用。

**Section sources**
- [calculateDistance.lazy.tsx](file://src/pages/calculateDistance.lazy.tsx#L1-L203)

### 坐标系转换
由于中国的地理数据安全政策，存在WGS84（全球标准）和GCJ02（国测局02）两种坐标系。本工具实现了这两种坐标系之间的相互转换。其核心依赖于`sunrise-utils`库中的`CoordinateTransform`模块，该模块封装了复杂的加密偏移算法。用户可以进行单个坐标的转换，也可以批量转换（通过文本输入或CSV文件导入），并支持将结果导出为CSV文件，非常适合处理大量地理数据。

**Section sources**
- [coordinate.lazy.tsx](file://src/pages/coordinate.lazy.tsx#L1-L447)

## 开发辅助工具

开发辅助工具集合了多种提升开发效率的实用功能。

### 文本对比工具
文本对比工具能够高亮显示两段文本之间的差异，帮助用户快速识别修改内容。该工具基于`diff`库实现，通过`Diff.diffLines()`方法对文本进行逐行比较。用户可以在左右两个文本框中分别输入或上传原始文本和对比文本，支持拖拽上传.txt、.md、.json、.xml等文本文件。对比结果以绿色标记新增内容，红色标记删除内容，并在右侧导航栏中列出所有差异项，点击可快速定位。工具还支持导出对比结果为文本文件，便于存档和分享。性能方面，通过`React.memo`对差异行组件进行优化，避免不必要的重渲染。

**Section sources**
- [textDiff.tsx](file://src/pages/textDiff.tsx#L1-L461)

### JSON格式化工具
JSON格式化工具可以美化和验证JSON数据。用户输入JSON字符串后，工具会尝试使用`JSON.parse()`解析，若成功则用`JSON.stringify()`以2个空格的缩进重新格式化，使其结构清晰、易于阅读；若解析失败，则会显示错误提示。此外，还提供复制和下载功能，方便用户保存格式化后的结果。

**Section sources**
- [jsonFormatter.tsx](file://src/pages/jsonFormatter.tsx#L1-L140)

### CSS格式化与SCSS转换
CSS格式化工具通过正则表达式和字符串替换，将压缩或格式混乱的CSS代码重新排版，使其符合标准的缩进和换行规则。SCSS转换工具则更进一步，利用`sass`库的`compileStringAsync`方法，将SCSS（Sass）代码编译为标准的CSS代码。用户还可以选择是否压缩输出结果。这两个工具对于前端开发中的代码维护和预处理器使用非常实用。

**Section sources**
- [cssFormatter.tsx](file://src/pages/cssFormatter.tsx#L1-L179)
- [scssConverter.tsx](file://src/pages/scssConverter.tsx#L1-L182)

### 二维码生成器
二维码生成器基于`qrcode`库，能够将任意文本或URL转换为二维码图片。用户可以自定义纠错级别、边距、前景色、背景色和尺寸。高级选项还支持添加Logo水印。生成的二维码可以直接预览，并提供下载和复制到剪贴板的功能。此工具在分享链接、创建电子名片等场景中应用广泛。

**Section sources**
- [qrGenerator.tsx](file://src/pages/qrGenerator.tsx#L1-L258)